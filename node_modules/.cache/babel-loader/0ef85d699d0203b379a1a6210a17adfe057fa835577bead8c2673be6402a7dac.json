{"ast":null,"code":"import _slicedToArray from \"/Users/rizzytwizzy/Projects/idxntity/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";\nimport _objectWithoutProperties from \"/Users/rizzytwizzy/Projects/idxntity/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js\";\nvar _excluded = [\"points\", \"color\", \"vertexColors\", \"lineWidth\", \"dashed\"];\nimport _extends from '@babel/runtime/helpers/esm/extends';\nimport * as React from 'react';\nimport { Vector2, Vector3, Color } from 'three';\nimport { Line2, LineMaterial, LineGeometry } from 'three-stdlib';\nvar Line = /*#__PURE__*/React.forwardRef(function Line(_ref, ref) {\n  var points = _ref.points,\n    _ref$color = _ref.color,\n    color = _ref$color === void 0 ? 'black' : _ref$color,\n    vertexColors = _ref.vertexColors,\n    lineWidth = _ref.lineWidth,\n    dashed = _ref.dashed,\n    rest = _objectWithoutProperties(_ref, _excluded);\n  var _React$useState = React.useState(function () {\n      return new Line2();\n    }),\n    _React$useState2 = _slicedToArray(_React$useState, 1),\n    line2 = _React$useState2[0];\n  var _React$useState3 = React.useState(function () {\n      return new LineMaterial();\n    }),\n    _React$useState4 = _slicedToArray(_React$useState3, 1),\n    lineMaterial = _React$useState4[0];\n  var _React$useState5 = React.useState(function () {\n      return new Vector2(512, 512);\n    }),\n    _React$useState6 = _slicedToArray(_React$useState5, 1),\n    resolution = _React$useState6[0];\n  var lineGeom = React.useMemo(function () {\n    var geom = new LineGeometry();\n    var pValues = points.map(function (p) {\n      return p instanceof Vector3 ? p.toArray() : p;\n    });\n    geom.setPositions(pValues.flat());\n    if (vertexColors) {\n      var cValues = vertexColors.map(function (c) {\n        return c instanceof Color ? c.toArray() : c;\n      });\n      geom.setColors(cValues.flat());\n    }\n    return geom;\n  }, [points, vertexColors]);\n  React.useLayoutEffect(function () {\n    line2.computeLineDistances();\n  }, [points, line2]);\n  React.useLayoutEffect(function () {\n    if (dashed) {\n      lineMaterial.defines.USE_DASH = '';\n    } else {\n      // Setting lineMaterial.defines.USE_DASH to undefined is apparently not sufficient.\n      delete lineMaterial.defines.USE_DASH;\n    }\n    lineMaterial.needsUpdate = true;\n  }, [dashed, lineMaterial]);\n  React.useEffect(function () {\n    return function () {\n      return lineGeom.dispose();\n    };\n  }, [lineGeom]);\n  return /*#__PURE__*/React.createElement(\"primitive\", _extends({\n    object: line2,\n    ref: ref\n  }, rest), /*#__PURE__*/React.createElement(\"primitive\", {\n    object: lineGeom,\n    attach: \"geometry\"\n  }), /*#__PURE__*/React.createElement(\"primitive\", _extends({\n    object: lineMaterial,\n    attach: \"material\",\n    color: color,\n    vertexColors: Boolean(vertexColors),\n    resolution: resolution,\n    linewidth: lineWidth,\n    dashed: dashed\n  }, rest)));\n});\nexport { Line };","map":{"version":3,"names":["_extends","React","Vector2","Vector3","Color","Line2","LineMaterial","LineGeometry","Line","forwardRef","_ref","ref","points","_ref$color","color","vertexColors","lineWidth","dashed","rest","_objectWithoutProperties","_excluded","_React$useState","useState","_React$useState2","_slicedToArray","line2","_React$useState3","_React$useState4","lineMaterial","_React$useState5","_React$useState6","resolution","lineGeom","useMemo","geom","pValues","map","p","toArray","setPositions","flat","cValues","c","setColors","useLayoutEffect","computeLineDistances","defines","USE_DASH","needsUpdate","useEffect","dispose","createElement","object","attach","Boolean","linewidth"],"sources":["/Users/rizzytwizzy/Projects/idxntity/node_modules/@react-three/drei/core/Line.js"],"sourcesContent":["import _extends from '@babel/runtime/helpers/esm/extends';\nimport * as React from 'react';\nimport { Vector2, Vector3, Color } from 'three';\nimport { Line2, LineMaterial, LineGeometry } from 'three-stdlib';\n\nconst Line = /*#__PURE__*/React.forwardRef(function Line({\n  points,\n  color = 'black',\n  vertexColors,\n  lineWidth,\n  dashed,\n  ...rest\n}, ref) {\n  const [line2] = React.useState(() => new Line2());\n  const [lineMaterial] = React.useState(() => new LineMaterial());\n  const [resolution] = React.useState(() => new Vector2(512, 512));\n  const lineGeom = React.useMemo(() => {\n    const geom = new LineGeometry();\n    const pValues = points.map(p => p instanceof Vector3 ? p.toArray() : p);\n    geom.setPositions(pValues.flat());\n\n    if (vertexColors) {\n      const cValues = vertexColors.map(c => c instanceof Color ? c.toArray() : c);\n      geom.setColors(cValues.flat());\n    }\n\n    return geom;\n  }, [points, vertexColors]);\n  React.useLayoutEffect(() => {\n    line2.computeLineDistances();\n  }, [points, line2]);\n  React.useLayoutEffect(() => {\n    if (dashed) {\n      lineMaterial.defines.USE_DASH = '';\n    } else {\n      // Setting lineMaterial.defines.USE_DASH to undefined is apparently not sufficient.\n      delete lineMaterial.defines.USE_DASH;\n    }\n\n    lineMaterial.needsUpdate = true;\n  }, [dashed, lineMaterial]);\n  React.useEffect(() => {\n    return () => lineGeom.dispose();\n  }, [lineGeom]);\n  return /*#__PURE__*/React.createElement(\"primitive\", _extends({\n    object: line2,\n    ref: ref\n  }, rest), /*#__PURE__*/React.createElement(\"primitive\", {\n    object: lineGeom,\n    attach: \"geometry\"\n  }), /*#__PURE__*/React.createElement(\"primitive\", _extends({\n    object: lineMaterial,\n    attach: \"material\",\n    color: color,\n    vertexColors: Boolean(vertexColors),\n    resolution: resolution,\n    linewidth: lineWidth,\n    dashed: dashed\n  }, rest)));\n});\n\nexport { Line };\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}