{"ast":null,"code":"import _slicedToArray from \"/Users/rizzytwizzy/Projects/idxntity/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";\nimport _objectWithoutProperties from \"/Users/rizzytwizzy/Projects/idxntity/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js\";\nvar _excluded = [\"selector\", \"onChange\", \"onLock\", \"onUnlock\"],\n  _excluded2 = [\"camera\"];\nimport _extends from '@babel/runtime/helpers/esm/extends';\nimport { useThree } from '@react-three/fiber';\nimport * as React from 'react';\nimport { PointerLockControls as PointerLockControls$1 } from 'three-stdlib';\nvar PointerLockControls = /*#__PURE__*/React.forwardRef(function (_ref, ref) {\n  var selector = _ref.selector,\n    onChange = _ref.onChange,\n    onLock = _ref.onLock,\n    onUnlock = _ref.onUnlock,\n    props = _objectWithoutProperties(_ref, _excluded);\n  var camera = props.camera,\n    rest = _objectWithoutProperties(props, _excluded2);\n  var gl = useThree(function (_ref2) {\n    var gl = _ref2.gl;\n    return gl;\n  });\n  var defaultCamera = useThree(function (_ref3) {\n    var camera = _ref3.camera;\n    return camera;\n  });\n  var invalidate = useThree(function (_ref4) {\n    var invalidate = _ref4.invalidate;\n    return invalidate;\n  });\n  var explCamera = camera || defaultCamera;\n  var _React$useState = React.useState(function () {\n      return new PointerLockControls$1(explCamera, gl.domElement);\n    }),\n    _React$useState2 = _slicedToArray(_React$useState, 1),\n    controls = _React$useState2[0];\n  React.useEffect(function () {\n    var callback = function callback(e) {\n      invalidate();\n      if (onChange) onChange(e);\n    };\n    controls == null ? void 0 : controls.addEventListener == null ? void 0 : controls.addEventListener('change', callback);\n    if (onLock) controls == null ? void 0 : controls.addEventListener == null ? void 0 : controls.addEventListener('lock', onLock);\n    if (onUnlock) controls == null ? void 0 : controls.addEventListener == null ? void 0 : controls.addEventListener('unlock', onUnlock);\n    return function () {\n      controls == null ? void 0 : controls.removeEventListener == null ? void 0 : controls.removeEventListener('change', callback);\n      if (onLock) controls == null ? void 0 : controls.addEventListener == null ? void 0 : controls.addEventListener('lock', onLock);\n      if (onUnlock) controls == null ? void 0 : controls.addEventListener == null ? void 0 : controls.addEventListener('unlock', onUnlock);\n    };\n  }, [onChange, onLock, onUnlock, controls, invalidate]);\n  React.useEffect(function () {\n    var handler = function handler() {\n      return controls == null ? void 0 : controls.lock();\n    };\n    var elements = selector ? Array.from(document.querySelectorAll(selector)) : [document];\n    elements.forEach(function (element) {\n      return element && element.addEventListener('click', handler);\n    });\n    return function () {\n      elements.forEach(function (element) {\n        return element ? element.removeEventListener('click', handler) : undefined;\n      });\n    };\n  }, [controls, selector]);\n  return controls ? /*#__PURE__*/React.createElement(\"primitive\", _extends({\n    ref: ref,\n    dispose: undefined,\n    object: controls\n  }, rest)) : null;\n});\nexport { PointerLockControls };","map":{"version":3,"names":["_extends","useThree","React","PointerLockControls","PointerLockControls$1","forwardRef","_ref","ref","selector","onChange","onLock","onUnlock","props","_objectWithoutProperties","_excluded","camera","rest","_excluded2","gl","_ref2","defaultCamera","_ref3","invalidate","_ref4","explCamera","_React$useState","useState","domElement","_React$useState2","_slicedToArray","controls","useEffect","callback","e","addEventListener","removeEventListener","handler","lock","elements","Array","from","document","querySelectorAll","forEach","element","undefined","createElement","dispose","object"],"sources":["/Users/rizzytwizzy/Projects/idxntity/node_modules/@react-three/drei/core/PointerLockControls.js"],"sourcesContent":["import _extends from '@babel/runtime/helpers/esm/extends';\nimport { useThree } from '@react-three/fiber';\nimport * as React from 'react';\nimport { PointerLockControls as PointerLockControls$1 } from 'three-stdlib';\n\nconst PointerLockControls = /*#__PURE__*/React.forwardRef(({\n  selector,\n  onChange,\n  onLock,\n  onUnlock,\n  ...props\n}, ref) => {\n  const {\n    camera,\n    ...rest\n  } = props;\n  const gl = useThree(({\n    gl\n  }) => gl);\n  const defaultCamera = useThree(({\n    camera\n  }) => camera);\n  const invalidate = useThree(({\n    invalidate\n  }) => invalidate);\n  const explCamera = camera || defaultCamera;\n  const [controls] = React.useState(() => new PointerLockControls$1(explCamera, gl.domElement));\n  React.useEffect(() => {\n    const callback = e => {\n      invalidate();\n      if (onChange) onChange(e);\n    };\n\n    controls == null ? void 0 : controls.addEventListener == null ? void 0 : controls.addEventListener('change', callback);\n    if (onLock) controls == null ? void 0 : controls.addEventListener == null ? void 0 : controls.addEventListener('lock', onLock);\n    if (onUnlock) controls == null ? void 0 : controls.addEventListener == null ? void 0 : controls.addEventListener('unlock', onUnlock);\n    return () => {\n      controls == null ? void 0 : controls.removeEventListener == null ? void 0 : controls.removeEventListener('change', callback);\n      if (onLock) controls == null ? void 0 : controls.addEventListener == null ? void 0 : controls.addEventListener('lock', onLock);\n      if (onUnlock) controls == null ? void 0 : controls.addEventListener == null ? void 0 : controls.addEventListener('unlock', onUnlock);\n    };\n  }, [onChange, onLock, onUnlock, controls, invalidate]);\n  React.useEffect(() => {\n    const handler = () => controls == null ? void 0 : controls.lock();\n\n    const elements = selector ? Array.from(document.querySelectorAll(selector)) : [document];\n    elements.forEach(element => element && element.addEventListener('click', handler));\n    return () => {\n      elements.forEach(element => element ? element.removeEventListener('click', handler) : undefined);\n    };\n  }, [controls, selector]);\n  return controls ? /*#__PURE__*/React.createElement(\"primitive\", _extends({\n    ref: ref,\n    dispose: undefined,\n    object: controls\n  }, rest)) : null;\n});\n\nexport { PointerLockControls };\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}