{"ast":null,"code":"import _slicedToArray from \"/Users/rizzytwizzy/Projects/idxntity/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";\nimport _objectWithoutProperties from \"/Users/rizzytwizzy/Projects/idxntity/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js\";\nvar _excluded = [\"children\", \"fog\", \"frames\", \"resolution\", \"near\", \"far\"];\nimport { WebGLCubeRenderTarget, LinearFilter } from 'three';\nimport * as React from 'react';\nimport { useThree, useFrame } from '@react-three/fiber';\nfunction CubeCamera(_ref) {\n  var children = _ref.children,\n    fog = _ref.fog,\n    _ref$frames = _ref.frames,\n    frames = _ref$frames === void 0 ? Infinity : _ref$frames,\n    _ref$resolution = _ref.resolution,\n    resolution = _ref$resolution === void 0 ? 256 : _ref$resolution,\n    _ref$near = _ref.near,\n    near = _ref$near === void 0 ? 1 : _ref$near,\n    _ref$far = _ref.far,\n    far = _ref$far === void 0 ? 1000 : _ref$far,\n    props = _objectWithoutProperties(_ref, _excluded);\n  var ref = React.useRef();\n  var _React$useState = React.useState(),\n    _React$useState2 = _slicedToArray(_React$useState, 2),\n    camera = _React$useState2[0],\n    setCamera = _React$useState2[1];\n  var scene = useThree(function (_ref2) {\n    var scene = _ref2.scene;\n    return scene;\n  });\n  var gl = useThree(function (_ref3) {\n    var gl = _ref3.gl;\n    return gl;\n  });\n  var fbo = React.useMemo(function () {\n    return new WebGLCubeRenderTarget(resolution, {\n      minFilter: LinearFilter,\n      magFilter: LinearFilter,\n      encoding: gl.outputEncoding\n    });\n  }, [resolution]);\n  var count = 0;\n  useFrame(function () {\n    if (camera && ref.current && (frames === Infinity || count < frames)) {\n      ref.current.traverse(function (obj) {\n        return obj.visible = false;\n      });\n      var originalFog = scene.fog;\n      scene.fog = fog || originalFog;\n      camera.update(gl, scene);\n      scene.fog = originalFog;\n      ref.current.traverse(function (obj) {\n        return obj.visible = true;\n      });\n      count++;\n    }\n  });\n  return /*#__PURE__*/React.createElement(\"group\", props, /*#__PURE__*/React.createElement(\"cubeCamera\", {\n    ref: setCamera,\n    args: [near, far, fbo]\n  }), /*#__PURE__*/React.createElement(\"group\", {\n    ref: ref\n  }, children(fbo.texture)));\n}\nexport { CubeCamera };","map":{"version":3,"names":["WebGLCubeRenderTarget","LinearFilter","React","useThree","useFrame","CubeCamera","_ref","children","fog","_ref$frames","frames","Infinity","_ref$resolution","resolution","_ref$near","near","_ref$far","far","props","_objectWithoutProperties","_excluded","ref","useRef","_React$useState","useState","_React$useState2","_slicedToArray","camera","setCamera","scene","_ref2","gl","_ref3","fbo","useMemo","minFilter","magFilter","encoding","outputEncoding","count","current","traverse","obj","visible","originalFog","update","createElement","args","texture"],"sources":["/Users/rizzytwizzy/Projects/idxntity/node_modules/@react-three/drei/core/CubeCamera.js"],"sourcesContent":["import { WebGLCubeRenderTarget, LinearFilter } from 'three';\nimport * as React from 'react';\nimport { useThree, useFrame } from '@react-three/fiber';\n\nfunction CubeCamera({\n  children,\n  fog,\n  frames = Infinity,\n  resolution = 256,\n  near = 1,\n  far = 1000,\n  ...props\n}) {\n  const ref = React.useRef();\n  const [camera, setCamera] = React.useState();\n  const scene = useThree(({\n    scene\n  }) => scene);\n  const gl = useThree(({\n    gl\n  }) => gl);\n  const fbo = React.useMemo(() => new WebGLCubeRenderTarget(resolution, {\n    minFilter: LinearFilter,\n    magFilter: LinearFilter,\n    encoding: gl.outputEncoding\n  }), [resolution]);\n  let count = 0;\n  useFrame(() => {\n    if (camera && ref.current && (frames === Infinity || count < frames)) {\n      ref.current.traverse(obj => obj.visible = false);\n      const originalFog = scene.fog;\n      scene.fog = fog || originalFog;\n      camera.update(gl, scene);\n      scene.fog = originalFog;\n      ref.current.traverse(obj => obj.visible = true);\n      count++;\n    }\n  });\n  return /*#__PURE__*/React.createElement(\"group\", props, /*#__PURE__*/React.createElement(\"cubeCamera\", {\n    ref: setCamera,\n    args: [near, far, fbo]\n  }), /*#__PURE__*/React.createElement(\"group\", {\n    ref: ref\n  }, children(fbo.texture)));\n}\n\nexport { CubeCamera };\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}