{"ast":null,"code":"import _objectSpread from \"/Users/rizzytwizzy/Projects/idxntity/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";\nimport _slicedToArray from \"/Users/rizzytwizzy/Projects/idxntity/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";\nimport _objectWithoutProperties from \"/Users/rizzytwizzy/Projects/idxntity/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js\";\nvar _excluded = [\"children\", \"eps\", \"style\", \"className\", \"prepend\", \"center\", \"fullscreen\", \"portal\", \"distanceFactor\", \"sprite\", \"transform\", \"occlude\", \"onOcclude\", \"zIndexRange\", \"calculatePosition\", \"as\", \"wrapperClass\", \"pointerEvents\"];\nimport _extends from '@babel/runtime/helpers/esm/extends';\nimport * as React from 'react';\nimport * as ReactDOM from 'react-dom';\nimport { Vector3, OrthographicCamera, PerspectiveCamera } from 'three';\nimport { useThree, useFrame } from '@react-three/fiber';\nvar v1 = new Vector3();\nvar v2 = new Vector3();\nvar v3 = new Vector3();\nfunction defaultCalculatePosition(el, camera, size) {\n  var objectPos = v1.setFromMatrixPosition(el.matrixWorld);\n  objectPos.project(camera);\n  var widthHalf = size.width / 2;\n  var heightHalf = size.height / 2;\n  return [objectPos.x * widthHalf + widthHalf, -(objectPos.y * heightHalf) + heightHalf];\n}\nfunction isObjectBehindCamera(el, camera) {\n  var objectPos = v1.setFromMatrixPosition(el.matrixWorld);\n  var cameraPos = v2.setFromMatrixPosition(camera.matrixWorld);\n  var deltaCamObj = objectPos.sub(cameraPos);\n  var camDir = camera.getWorldDirection(v3);\n  return deltaCamObj.angleTo(camDir) > Math.PI / 2;\n}\nfunction isObjectVisible(el, camera, raycaster, occlude) {\n  var elPos = v1.setFromMatrixPosition(el.matrixWorld);\n  var screenPos = elPos.clone();\n  screenPos.project(camera);\n  raycaster.setFromCamera(screenPos, camera);\n  var intersects = raycaster.intersectObjects(occlude, true);\n  if (intersects.length) {\n    var intersectionDistance = intersects[0].distance;\n    var pointDistance = elPos.distanceTo(raycaster.ray.origin);\n    return pointDistance < intersectionDistance;\n  }\n  return true;\n}\nfunction objectScale(el, camera) {\n  if (camera instanceof OrthographicCamera) {\n    return camera.zoom;\n  } else if (camera instanceof PerspectiveCamera) {\n    var objectPos = v1.setFromMatrixPosition(el.matrixWorld);\n    var cameraPos = v2.setFromMatrixPosition(camera.matrixWorld);\n    var vFOV = camera.fov * Math.PI / 180;\n    var dist = objectPos.distanceTo(cameraPos);\n    var scaleFOV = 2 * Math.tan(vFOV / 2) * dist;\n    return 1 / scaleFOV;\n  } else {\n    return 1;\n  }\n}\nfunction objectZIndex(el, camera, zIndexRange) {\n  if (camera instanceof PerspectiveCamera || camera instanceof OrthographicCamera) {\n    var objectPos = v1.setFromMatrixPosition(el.matrixWorld);\n    var cameraPos = v2.setFromMatrixPosition(camera.matrixWorld);\n    var dist = objectPos.distanceTo(cameraPos);\n    var A = (zIndexRange[1] - zIndexRange[0]) / (camera.far - camera.near);\n    var B = zIndexRange[1] - A * camera.far;\n    return Math.round(A * dist + B);\n  }\n  return undefined;\n}\nvar epsilon = function epsilon(value) {\n  return Math.abs(value) < 1e-10 ? 0 : value;\n};\nfunction getCSSMatrix(matrix, multipliers) {\n  var prepend = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : '';\n  var matrix3d = 'matrix3d(';\n  for (var i = 0; i !== 16; i++) {\n    matrix3d += epsilon(multipliers[i] * matrix.elements[i]) + (i !== 15 ? ',' : ')');\n  }\n  return prepend + matrix3d;\n}\nvar getCameraCSSMatrix = function (multipliers) {\n  return function (matrix) {\n    return getCSSMatrix(matrix, multipliers);\n  };\n}([1, -1, 1, 1, 1, -1, 1, 1, 1, -1, 1, 1, 1, -1, 1, 1]);\nvar getObjectCSSMatrix = function (scaleMultipliers) {\n  return function (matrix, factor) {\n    return getCSSMatrix(matrix, scaleMultipliers(factor), 'translate(-50%,-50%)');\n  };\n}(function (f) {\n  return [1 / f, 1 / f, 1 / f, 1, -1 / f, -1 / f, -1 / f, -1, 1 / f, 1 / f, 1 / f, 1, 1, 1, 1, 1];\n});\nvar Html = /*#__PURE__*/React.forwardRef(function (_ref, ref) {\n  var children = _ref.children,\n    _ref$eps = _ref.eps,\n    eps = _ref$eps === void 0 ? 0.001 : _ref$eps,\n    style = _ref.style,\n    className = _ref.className,\n    prepend = _ref.prepend,\n    center = _ref.center,\n    fullscreen = _ref.fullscreen,\n    portal = _ref.portal,\n    distanceFactor = _ref.distanceFactor,\n    _ref$sprite = _ref.sprite,\n    sprite = _ref$sprite === void 0 ? false : _ref$sprite,\n    _ref$transform = _ref.transform,\n    transform = _ref$transform === void 0 ? false : _ref$transform,\n    occlude = _ref.occlude,\n    onOcclude = _ref.onOcclude,\n    _ref$zIndexRange = _ref.zIndexRange,\n    zIndexRange = _ref$zIndexRange === void 0 ? [16777271, 0] : _ref$zIndexRange,\n    _ref$calculatePositio = _ref.calculatePosition,\n    calculatePosition = _ref$calculatePositio === void 0 ? defaultCalculatePosition : _ref$calculatePositio,\n    _ref$as = _ref.as,\n    as = _ref$as === void 0 ? 'div' : _ref$as,\n    wrapperClass = _ref.wrapperClass,\n    _ref$pointerEvents = _ref.pointerEvents,\n    pointerEvents = _ref$pointerEvents === void 0 ? 'auto' : _ref$pointerEvents,\n    props = _objectWithoutProperties(_ref, _excluded);\n  var _portal$current;\n  var gl = useThree(function (_ref2) {\n    var gl = _ref2.gl;\n    return gl;\n  });\n  var camera = useThree(function (_ref3) {\n    var camera = _ref3.camera;\n    return camera;\n  });\n  var scene = useThree(function (_ref4) {\n    var scene = _ref4.scene;\n    return scene;\n  });\n  var size = useThree(function (_ref5) {\n    var size = _ref5.size;\n    return size;\n  });\n  var raycaster = useThree(function (_ref6) {\n    var raycaster = _ref6.raycaster;\n    return raycaster;\n  });\n  var _React$useState = React.useState(function () {\n      return document.createElement(as);\n    }),\n    _React$useState2 = _slicedToArray(_React$useState, 1),\n    el = _React$useState2[0];\n  var group = React.useRef(null);\n  var oldZoom = React.useRef(0);\n  var oldPosition = React.useRef([0, 0]);\n  var transformOuterRef = React.useRef(null);\n  var transformInnerRef = React.useRef(null);\n  var target = (_portal$current = portal == null ? void 0 : portal.current) !== null && _portal$current !== void 0 ? _portal$current : gl.domElement.parentNode;\n  React.useEffect(function () {\n    if (group.current) {\n      scene.updateMatrixWorld();\n      if (transform) {\n        el.style.cssText = \"position:absolute;top:0;left:0;pointer-events:none;overflow:hidden;\";\n      } else {\n        var vec = calculatePosition(group.current, camera, size);\n        el.style.cssText = \"position:absolute;top:0;left:0;transform:translate3d(\".concat(vec[0], \"px,\").concat(vec[1], \"px,0);transform-origin:0 0;\");\n      }\n      if (target) {\n        if (prepend) target.prepend(el);else target.appendChild(el);\n      }\n      return function () {\n        if (target) target.removeChild(el);\n        ReactDOM.unmountComponentAtNode(el);\n      };\n    }\n  }, [target, transform]);\n  React.useLayoutEffect(function () {\n    if (wrapperClass) el.className = wrapperClass;\n  }, [wrapperClass]);\n  var styles = React.useMemo(function () {\n    if (transform) {\n      return {\n        position: 'absolute',\n        top: 0,\n        left: 0,\n        width: size.width,\n        height: size.height,\n        transformStyle: 'preserve-3d',\n        pointerEvents: 'none'\n      };\n    } else {\n      return _objectSpread(_objectSpread({\n        position: 'absolute',\n        transform: center ? 'translate3d(-50%,-50%,0)' : 'none'\n      }, fullscreen && {\n        top: -size.height / 2,\n        left: -size.width / 2,\n        width: size.width,\n        height: size.height\n      }), style);\n    }\n  }, [style, center, fullscreen, size, transform]);\n  var transformInnerStyles = React.useMemo(function () {\n    return {\n      position: 'absolute',\n      pointerEvents: pointerEvents\n    };\n  }, [pointerEvents]);\n  React.useLayoutEffect(function () {\n    if (transform) {\n      ReactDOM.render( /*#__PURE__*/React.createElement(\"div\", {\n        ref: transformOuterRef,\n        style: styles\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        ref: transformInnerRef,\n        style: transformInnerStyles\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        ref: ref,\n        className: className,\n        style: style,\n        children: children\n      }))), el);\n    } else {\n      ReactDOM.render( /*#__PURE__*/React.createElement(\"div\", {\n        ref: ref,\n        style: styles,\n        className: className,\n        children: children\n      }), el);\n    }\n  });\n  var visible = React.useRef(true);\n  useFrame(function () {\n    if (group.current) {\n      camera.updateMatrixWorld();\n      group.current.updateWorldMatrix(true, false);\n      var vec = transform ? oldPosition.current : calculatePosition(group.current, camera, size);\n      if (transform || Math.abs(oldZoom.current - camera.zoom) > eps || Math.abs(oldPosition.current[0] - vec[0]) > eps || Math.abs(oldPosition.current[1] - vec[1]) > eps) {\n        var isBehindCamera = isObjectBehindCamera(group.current, camera);\n        var raytraceTarget = false;\n        if (typeof occlude === 'boolean') {\n          if (occlude === true) {\n            raytraceTarget = [scene];\n          }\n        } else if (Array.isArray(occlude)) {\n          raytraceTarget = occlude.map(function (item) {\n            return item.current;\n          });\n        }\n        var previouslyVisible = visible.current;\n        if (raytraceTarget) {\n          var isvisible = isObjectVisible(group.current, camera, raycaster, raytraceTarget);\n          visible.current = isvisible && !isBehindCamera;\n        } else {\n          visible.current = !isBehindCamera;\n        }\n        if (previouslyVisible !== visible.current) {\n          if (onOcclude) onOcclude(!visible.current);else el.style.display = visible.current ? 'block' : 'none';\n        }\n        el.style.zIndex = \"\".concat(objectZIndex(group.current, camera, zIndexRange));\n        if (transform) {\n          var widthHalf = size.width / 2,\n            heightHalf = size.height / 2;\n          var fov = camera.projectionMatrix.elements[5] * heightHalf;\n          var isOrthographicCamera = camera.isOrthographicCamera,\n            top = camera.top,\n            left = camera.left,\n            bottom = camera.bottom,\n            right = camera.right;\n          var cameraMatrix = getCameraCSSMatrix(camera.matrixWorldInverse);\n          var cameraTransform = isOrthographicCamera ? \"scale(\".concat(fov, \")translate(\").concat(epsilon(-(right + left) / 2), \"px,\").concat(epsilon((top + bottom) / 2), \"px)\") : \"translateZ(\".concat(fov, \"px)\");\n          var matrix = group.current.matrixWorld;\n          if (sprite) {\n            matrix = camera.matrixWorldInverse.clone().transpose().copyPosition(matrix).scale(group.current.scale);\n            matrix.elements[3] = matrix.elements[7] = matrix.elements[11] = 0;\n            matrix.elements[15] = 1;\n          }\n          el.style.width = size.width + 'px';\n          el.style.height = size.height + 'px';\n          el.style.perspective = isOrthographicCamera ? '' : \"\".concat(fov, \"px\");\n          if (transformOuterRef.current && transformInnerRef.current) {\n            transformOuterRef.current.style.transform = \"\".concat(cameraTransform).concat(cameraMatrix, \"translate(\").concat(widthHalf, \"px,\").concat(heightHalf, \"px)\");\n            transformInnerRef.current.style.transform = getObjectCSSMatrix(matrix, 1 / ((distanceFactor || 10) / 400));\n          }\n        } else {\n          var scale = distanceFactor === undefined ? 1 : objectScale(group.current, camera) * distanceFactor;\n          el.style.transform = \"translate3d(\".concat(vec[0], \"px,\").concat(vec[1], \"px,0) scale(\").concat(scale, \")\");\n        }\n        oldPosition.current = vec;\n        oldZoom.current = camera.zoom;\n      }\n    }\n  });\n  return /*#__PURE__*/React.createElement(\"group\", _extends({}, props, {\n    ref: group\n  }));\n});\nexport { Html };","map":{"version":3,"names":["_extends","React","ReactDOM","Vector3","OrthographicCamera","PerspectiveCamera","useThree","useFrame","v1","v2","v3","defaultCalculatePosition","el","camera","size","objectPos","setFromMatrixPosition","matrixWorld","project","widthHalf","width","heightHalf","height","x","y","isObjectBehindCamera","cameraPos","deltaCamObj","sub","camDir","getWorldDirection","angleTo","Math","PI","isObjectVisible","raycaster","occlude","elPos","screenPos","clone","setFromCamera","intersects","intersectObjects","length","intersectionDistance","distance","pointDistance","distanceTo","ray","origin","objectScale","zoom","vFOV","fov","dist","scaleFOV","tan","objectZIndex","zIndexRange","A","far","near","B","round","undefined","epsilon","value","abs","getCSSMatrix","matrix","multipliers","prepend","arguments","matrix3d","i","elements","getCameraCSSMatrix","getObjectCSSMatrix","scaleMultipliers","factor","f","Html","forwardRef","_ref","ref","children","_ref$eps","eps","style","className","center","fullscreen","portal","distanceFactor","_ref$sprite","sprite","_ref$transform","transform","onOcclude","_ref$zIndexRange","_ref$calculatePositio","calculatePosition","_ref$as","as","wrapperClass","_ref$pointerEvents","pointerEvents","props","_objectWithoutProperties","_excluded","_portal$current","gl","_ref2","_ref3","scene","_ref4","_ref5","_ref6","_React$useState","useState","document","createElement","_React$useState2","_slicedToArray","group","useRef","oldZoom","oldPosition","transformOuterRef","transformInnerRef","target","current","domElement","parentNode","useEffect","updateMatrixWorld","cssText","vec","concat","appendChild","removeChild","unmountComponentAtNode","useLayoutEffect","styles","useMemo","position","top","left","transformStyle","_objectSpread","transformInnerStyles","render","visible","updateWorldMatrix","isBehindCamera","raytraceTarget","Array","isArray","map","item","previouslyVisible","isvisible","display","zIndex","projectionMatrix","isOrthographicCamera","bottom","right","cameraMatrix","matrixWorldInverse","cameraTransform","transpose","copyPosition","scale","perspective"],"sources":["/Users/rizzytwizzy/Projects/idxntity/node_modules/@react-three/drei/web/Html.js"],"sourcesContent":["import _extends from '@babel/runtime/helpers/esm/extends';\nimport * as React from 'react';\nimport * as ReactDOM from 'react-dom';\nimport { Vector3, OrthographicCamera, PerspectiveCamera } from 'three';\nimport { useThree, useFrame } from '@react-three/fiber';\n\nconst v1 = new Vector3();\nconst v2 = new Vector3();\nconst v3 = new Vector3();\n\nfunction defaultCalculatePosition(el, camera, size) {\n  const objectPos = v1.setFromMatrixPosition(el.matrixWorld);\n  objectPos.project(camera);\n  const widthHalf = size.width / 2;\n  const heightHalf = size.height / 2;\n  return [objectPos.x * widthHalf + widthHalf, -(objectPos.y * heightHalf) + heightHalf];\n}\n\nfunction isObjectBehindCamera(el, camera) {\n  const objectPos = v1.setFromMatrixPosition(el.matrixWorld);\n  const cameraPos = v2.setFromMatrixPosition(camera.matrixWorld);\n  const deltaCamObj = objectPos.sub(cameraPos);\n  const camDir = camera.getWorldDirection(v3);\n  return deltaCamObj.angleTo(camDir) > Math.PI / 2;\n}\n\nfunction isObjectVisible(el, camera, raycaster, occlude) {\n  const elPos = v1.setFromMatrixPosition(el.matrixWorld);\n  const screenPos = elPos.clone();\n  screenPos.project(camera);\n  raycaster.setFromCamera(screenPos, camera);\n  const intersects = raycaster.intersectObjects(occlude, true);\n\n  if (intersects.length) {\n    const intersectionDistance = intersects[0].distance;\n    const pointDistance = elPos.distanceTo(raycaster.ray.origin);\n    return pointDistance < intersectionDistance;\n  }\n\n  return true;\n}\n\nfunction objectScale(el, camera) {\n  if (camera instanceof OrthographicCamera) {\n    return camera.zoom;\n  } else if (camera instanceof PerspectiveCamera) {\n    const objectPos = v1.setFromMatrixPosition(el.matrixWorld);\n    const cameraPos = v2.setFromMatrixPosition(camera.matrixWorld);\n    const vFOV = camera.fov * Math.PI / 180;\n    const dist = objectPos.distanceTo(cameraPos);\n    const scaleFOV = 2 * Math.tan(vFOV / 2) * dist;\n    return 1 / scaleFOV;\n  } else {\n    return 1;\n  }\n}\n\nfunction objectZIndex(el, camera, zIndexRange) {\n  if (camera instanceof PerspectiveCamera || camera instanceof OrthographicCamera) {\n    const objectPos = v1.setFromMatrixPosition(el.matrixWorld);\n    const cameraPos = v2.setFromMatrixPosition(camera.matrixWorld);\n    const dist = objectPos.distanceTo(cameraPos);\n    const A = (zIndexRange[1] - zIndexRange[0]) / (camera.far - camera.near);\n    const B = zIndexRange[1] - A * camera.far;\n    return Math.round(A * dist + B);\n  }\n\n  return undefined;\n}\n\nconst epsilon = value => Math.abs(value) < 1e-10 ? 0 : value;\n\nfunction getCSSMatrix(matrix, multipliers, prepend = '') {\n  let matrix3d = 'matrix3d(';\n\n  for (let i = 0; i !== 16; i++) {\n    matrix3d += epsilon(multipliers[i] * matrix.elements[i]) + (i !== 15 ? ',' : ')');\n  }\n\n  return prepend + matrix3d;\n}\n\nconst getCameraCSSMatrix = (multipliers => {\n  return matrix => getCSSMatrix(matrix, multipliers);\n})([1, -1, 1, 1, 1, -1, 1, 1, 1, -1, 1, 1, 1, -1, 1, 1]);\n\nconst getObjectCSSMatrix = (scaleMultipliers => {\n  return (matrix, factor) => getCSSMatrix(matrix, scaleMultipliers(factor), 'translate(-50%,-50%)');\n})(f => [1 / f, 1 / f, 1 / f, 1, -1 / f, -1 / f, -1 / f, -1, 1 / f, 1 / f, 1 / f, 1, 1, 1, 1, 1]);\n\nconst Html = /*#__PURE__*/React.forwardRef(({\n  children,\n  eps = 0.001,\n  style,\n  className,\n  prepend,\n  center,\n  fullscreen,\n  portal,\n  distanceFactor,\n  sprite = false,\n  transform = false,\n  occlude,\n  onOcclude,\n  zIndexRange = [16777271, 0],\n  calculatePosition = defaultCalculatePosition,\n  as = 'div',\n  wrapperClass,\n  pointerEvents = 'auto',\n  ...props\n}, ref) => {\n  var _portal$current;\n\n  const gl = useThree(({\n    gl\n  }) => gl);\n  const camera = useThree(({\n    camera\n  }) => camera);\n  const scene = useThree(({\n    scene\n  }) => scene);\n  const size = useThree(({\n    size\n  }) => size);\n  const raycaster = useThree(({\n    raycaster\n  }) => raycaster);\n  const [el] = React.useState(() => document.createElement(as));\n  const group = React.useRef(null);\n  const oldZoom = React.useRef(0);\n  const oldPosition = React.useRef([0, 0]);\n  const transformOuterRef = React.useRef(null);\n  const transformInnerRef = React.useRef(null);\n  const target = (_portal$current = portal == null ? void 0 : portal.current) !== null && _portal$current !== void 0 ? _portal$current : gl.domElement.parentNode;\n  React.useEffect(() => {\n    if (group.current) {\n      scene.updateMatrixWorld();\n\n      if (transform) {\n        el.style.cssText = `position:absolute;top:0;left:0;pointer-events:none;overflow:hidden;`;\n      } else {\n        const vec = calculatePosition(group.current, camera, size);\n        el.style.cssText = `position:absolute;top:0;left:0;transform:translate3d(${vec[0]}px,${vec[1]}px,0);transform-origin:0 0;`;\n      }\n\n      if (target) {\n        if (prepend) target.prepend(el);else target.appendChild(el);\n      }\n\n      return () => {\n        if (target) target.removeChild(el);\n        ReactDOM.unmountComponentAtNode(el);\n      };\n    }\n  }, [target, transform]);\n  React.useLayoutEffect(() => {\n    if (wrapperClass) el.className = wrapperClass;\n  }, [wrapperClass]);\n  const styles = React.useMemo(() => {\n    if (transform) {\n      return {\n        position: 'absolute',\n        top: 0,\n        left: 0,\n        width: size.width,\n        height: size.height,\n        transformStyle: 'preserve-3d',\n        pointerEvents: 'none'\n      };\n    } else {\n      return {\n        position: 'absolute',\n        transform: center ? 'translate3d(-50%,-50%,0)' : 'none',\n        ...(fullscreen && {\n          top: -size.height / 2,\n          left: -size.width / 2,\n          width: size.width,\n          height: size.height\n        }),\n        ...style\n      };\n    }\n  }, [style, center, fullscreen, size, transform]);\n  const transformInnerStyles = React.useMemo(() => ({\n    position: 'absolute',\n    pointerEvents\n  }), [pointerEvents]);\n  React.useLayoutEffect(() => {\n    if (transform) {\n      ReactDOM.render( /*#__PURE__*/React.createElement(\"div\", {\n        ref: transformOuterRef,\n        style: styles\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        ref: transformInnerRef,\n        style: transformInnerStyles\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        ref: ref,\n        className: className,\n        style: style,\n        children: children\n      }))), el);\n    } else {\n      ReactDOM.render( /*#__PURE__*/React.createElement(\"div\", {\n        ref: ref,\n        style: styles,\n        className: className,\n        children: children\n      }), el);\n    }\n  });\n  const visible = React.useRef(true);\n  useFrame(() => {\n    if (group.current) {\n      camera.updateMatrixWorld();\n      group.current.updateWorldMatrix(true, false);\n      const vec = transform ? oldPosition.current : calculatePosition(group.current, camera, size);\n\n      if (transform || Math.abs(oldZoom.current - camera.zoom) > eps || Math.abs(oldPosition.current[0] - vec[0]) > eps || Math.abs(oldPosition.current[1] - vec[1]) > eps) {\n        const isBehindCamera = isObjectBehindCamera(group.current, camera);\n        let raytraceTarget = false;\n\n        if (typeof occlude === 'boolean') {\n          if (occlude === true) {\n            raytraceTarget = [scene];\n          }\n        } else if (Array.isArray(occlude)) {\n          raytraceTarget = occlude.map(item => item.current);\n        }\n\n        const previouslyVisible = visible.current;\n\n        if (raytraceTarget) {\n          const isvisible = isObjectVisible(group.current, camera, raycaster, raytraceTarget);\n          visible.current = isvisible && !isBehindCamera;\n        } else {\n          visible.current = !isBehindCamera;\n        }\n\n        if (previouslyVisible !== visible.current) {\n          if (onOcclude) onOcclude(!visible.current);else el.style.display = visible.current ? 'block' : 'none';\n        }\n\n        el.style.zIndex = `${objectZIndex(group.current, camera, zIndexRange)}`;\n\n        if (transform) {\n          const [widthHalf, heightHalf] = [size.width / 2, size.height / 2];\n          const fov = camera.projectionMatrix.elements[5] * heightHalf;\n          const {\n            isOrthographicCamera,\n            top,\n            left,\n            bottom,\n            right\n          } = camera;\n          const cameraMatrix = getCameraCSSMatrix(camera.matrixWorldInverse);\n          const cameraTransform = isOrthographicCamera ? `scale(${fov})translate(${epsilon(-(right + left) / 2)}px,${epsilon((top + bottom) / 2)}px)` : `translateZ(${fov}px)`;\n          let matrix = group.current.matrixWorld;\n\n          if (sprite) {\n            matrix = camera.matrixWorldInverse.clone().transpose().copyPosition(matrix).scale(group.current.scale);\n            matrix.elements[3] = matrix.elements[7] = matrix.elements[11] = 0;\n            matrix.elements[15] = 1;\n          }\n\n          el.style.width = size.width + 'px';\n          el.style.height = size.height + 'px';\n          el.style.perspective = isOrthographicCamera ? '' : `${fov}px`;\n\n          if (transformOuterRef.current && transformInnerRef.current) {\n            transformOuterRef.current.style.transform = `${cameraTransform}${cameraMatrix}translate(${widthHalf}px,${heightHalf}px)`;\n            transformInnerRef.current.style.transform = getObjectCSSMatrix(matrix, 1 / ((distanceFactor || 10) / 400));\n          }\n        } else {\n          const scale = distanceFactor === undefined ? 1 : objectScale(group.current, camera) * distanceFactor;\n          el.style.transform = `translate3d(${vec[0]}px,${vec[1]}px,0) scale(${scale})`;\n        }\n\n        oldPosition.current = vec;\n        oldZoom.current = camera.zoom;\n      }\n    }\n  });\n  return /*#__PURE__*/React.createElement(\"group\", _extends({}, props, {\n    ref: group\n  }));\n});\n\nexport { Html };\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}