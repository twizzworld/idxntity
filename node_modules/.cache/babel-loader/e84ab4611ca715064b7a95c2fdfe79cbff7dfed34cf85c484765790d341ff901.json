{"ast":null,"code":"import _toConsumableArray from \"/Users/rizzytwizzy/Projects/idxntity/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";\nimport _defineProperty from \"/Users/rizzytwizzy/Projects/idxntity/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";\nimport _objectSpread from \"/Users/rizzytwizzy/Projects/idxntity/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";\nimport _slicedToArray from \"/Users/rizzytwizzy/Projects/idxntity/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";\nimport _objectWithoutProperties from \"/Users/rizzytwizzy/Projects/idxntity/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js\";\nvar _excluded = [\"children\", \"range\", \"limit\"],\n  _excluded2 = [\"children\"],\n  _excluded3 = [\"children\", \"positions\", \"colors\", \"sizes\", \"stride\"];\nimport _extends from '@babel/runtime/helpers/esm/extends';\nimport * as THREE from 'three';\nimport * as React from 'react';\nimport { extend, useFrame } from '@react-three/fiber';\nimport mergeRefs from 'react-merge-refs';\nimport { Position } from '../helpers/Position.js';\nvar i, positionRef;\nvar context = /*#__PURE__*/React.createContext(null);\nvar parentMatrix = new THREE.Matrix4();\nvar position = new THREE.Vector3();\nvar color = new THREE.Color();\n/**\n * Instance implementation, relies on react + context to update the attributes based on the children of this component\n */\n\nvar PointsInstances = /*#__PURE__*/React.forwardRef(function (_ref, ref) {\n  var children = _ref.children,\n    range = _ref.range,\n    _ref$limit = _ref.limit,\n    limit = _ref$limit === void 0 ? 1000 : _ref$limit,\n    props = _objectWithoutProperties(_ref, _excluded);\n  var parentRef = React.useRef(null);\n  var _React$useState = React.useState([]),\n    _React$useState2 = _slicedToArray(_React$useState, 2),\n    refs = _React$useState2[0],\n    setRefs = _React$useState2[1];\n  var _React$useState3 = React.useState(function () {\n      return [new Float32Array(limit * 3), Float32Array.from({\n        length: limit * 3\n      }, function () {\n        return 1;\n      }), Float32Array.from({\n        length: limit\n      }, function () {\n        return 1;\n      })];\n    }),\n    _React$useState4 = _slicedToArray(_React$useState3, 1),\n    _React$useState4$ = _slicedToArray(_React$useState4[0], 3),\n    positions = _React$useState4$[0],\n    colors = _React$useState4$[1],\n    sizes = _React$useState4$[2];\n  React.useLayoutEffect(function () {\n    parentRef.current.geometry.drawRange.count = Math.min(limit, range !== undefined ? range : limit, refs.length);\n  }, [refs, range]);\n  React.useEffect(function () {\n    // We might be a frame too late? ü§∑‚Äç‚ôÇÔ∏è\n    parentRef.current.geometry.attributes.position.needsUpdate = true;\n  });\n  useFrame(function () {\n    parentRef.current.updateMatrix();\n    parentRef.current.updateMatrixWorld();\n    parentMatrix.copy(parentRef.current.matrixWorld).invert();\n    for (i = 0; i < refs.length; i++) {\n      positionRef = refs[i].current;\n      positionRef.getWorldPosition(position).applyMatrix4(parentMatrix);\n      if (position.x !== positions[i * 3] || position.y !== positions[i * 3 + 1] || position.z !== positions[i * 3 + 2]) {\n        position.toArray(positions, i * 3);\n        parentRef.current.geometry.attributes.position.needsUpdate = true;\n        positionRef.matrixWorldNeedsUpdate = true;\n      }\n      if (!positionRef.color.equals(color.fromArray(colors, i * 3))) {\n        positionRef.color.toArray(colors, i * 3);\n        parentRef.current.geometry.attributes.color.needsUpdate = true;\n      }\n      if (positionRef.size !== sizes[i]) {\n        sizes.set([positionRef.size], i);\n        parentRef.current.geometry.attributes.size.needsUpdate = true;\n      }\n    }\n  });\n  var events = React.useMemo(function () {\n    var events = {};\n    for (i = 0; i < refs.length; i++) {\n      var _refs$i$current;\n      Object.assign(events, (_refs$i$current = refs[i].current) == null ? void 0 : _refs$i$current.__r3f.handlers);\n    }\n    return Object.keys(events).reduce(function (prev, key) {\n      return _objectSpread(_objectSpread({}, prev), {}, _defineProperty({}, key, function (event) {\n        var _refs$event$index, _r3f, _r3f$handlers;\n        var object = (_refs$event$index = refs[event.index]) == null ? void 0 : _refs$event$index.current;\n        return object == null ? void 0 : (_r3f = object.__r3f) == null ? void 0 : (_r3f$handlers = _r3f.handlers) == null ? void 0 : _r3f$handlers[key](_objectSpread(_objectSpread({}, event), {}, {\n          object: object\n        }));\n      }));\n    }, {});\n  }, [children, refs]);\n  var api = React.useMemo(function () {\n    return {\n      subscribe: function subscribe(ref) {\n        setRefs(function (refs) {\n          return [].concat(_toConsumableArray(refs), [ref]);\n        });\n        return function () {\n          return setRefs(function (refs) {\n            return refs.filter(function (item) {\n              return item.current !== ref.current;\n            });\n          });\n        };\n      }\n    };\n  }, []);\n  return /*#__PURE__*/React.createElement(\"points\", _extends({\n    matrixAutoUpdate: false,\n    ref: mergeRefs([ref, parentRef])\n  }, events, props), /*#__PURE__*/React.createElement(\"bufferGeometry\", null, /*#__PURE__*/React.createElement(\"bufferAttribute\", {\n    attachObject: ['attributes', 'position'],\n    count: positions.length / 3,\n    array: positions,\n    itemSize: 3,\n    usage: THREE.DynamicDrawUsage\n  }), /*#__PURE__*/React.createElement(\"bufferAttribute\", {\n    attachObject: ['attributes', 'color'],\n    count: colors.length / 3,\n    array: colors,\n    itemSize: 3,\n    usage: THREE.DynamicDrawUsage\n  }), /*#__PURE__*/React.createElement(\"bufferAttribute\", {\n    attachObject: ['attributes', 'size'],\n    count: sizes.length,\n    array: sizes,\n    itemSize: 1,\n    usage: THREE.DynamicDrawUsage\n  })), /*#__PURE__*/React.createElement(context.Provider, {\n    value: api\n  }, children));\n});\nvar Point = /*#__PURE__*/React.forwardRef(function (_ref2, ref) {\n  var children = _ref2.children,\n    props = _objectWithoutProperties(_ref2, _excluded2);\n  React.useMemo(function () {\n    return extend({\n      Position: Position\n    });\n  }, []);\n  var group = React.useRef();\n  var _React$useContext = React.useContext(context),\n    subscribe = _React$useContext.subscribe;\n  React.useLayoutEffect(function () {\n    return subscribe(group);\n  }, []);\n  return /*#__PURE__*/React.createElement(\"position\", _extends({\n    ref: mergeRefs([ref, group])\n  }, props), children);\n});\n/**\n * Buffer implementation, relies on complete buffers of the correct number, leaves it to the user to update them\n */\n\nvar PointsBuffer = /*#__PURE__*/React.forwardRef(function (_ref3, forwardedRef) {\n  var children = _ref3.children,\n    positions = _ref3.positions,\n    colors = _ref3.colors,\n    sizes = _ref3.sizes,\n    _ref3$stride = _ref3.stride,\n    stride = _ref3$stride === void 0 ? 3 : _ref3$stride,\n    props = _objectWithoutProperties(_ref3, _excluded3);\n  var pointsRef = React.useRef(null);\n  useFrame(function () {\n    var attr = pointsRef.current.geometry.attributes;\n    attr.position.needsUpdate = true;\n    if (colors) {\n      attr.color.needsUpdate = true;\n    }\n    if (sizes) {\n      attr.size.needsUpdate = true;\n    }\n  });\n  return /*#__PURE__*/React.createElement(\"points\", _extends({\n    matrixAutoUpdate: false,\n    ref: mergeRefs([forwardedRef, pointsRef])\n  }, props), /*#__PURE__*/React.createElement(\"bufferGeometry\", null, /*#__PURE__*/React.createElement(\"bufferAttribute\", {\n    attachObject: ['attributes', 'position'],\n    count: positions.length / stride,\n    array: positions,\n    itemSize: stride,\n    usage: THREE.DynamicDrawUsage\n  }), colors && /*#__PURE__*/React.createElement(\"bufferAttribute\", {\n    attachObject: ['attributes', 'color'],\n    count: colors.length / stride,\n    array: colors,\n    itemSize: 3,\n    usage: THREE.DynamicDrawUsage\n  }), sizes && /*#__PURE__*/React.createElement(\"bufferAttribute\", {\n    attachObject: ['attributes', 'size'],\n    count: sizes.length / stride,\n    array: sizes,\n    itemSize: 1,\n    usage: THREE.DynamicDrawUsage\n  })), children);\n});\nvar Points = /*#__PURE__*/React.forwardRef(function (props, forwardedRef) {\n  if (props.positions instanceof Float32Array) {\n    return /*#__PURE__*/React.createElement(PointsBuffer, _extends({}, props, {\n      ref: forwardedRef\n    }));\n  }\n  return /*#__PURE__*/React.createElement(PointsInstances, _extends({}, props, {\n    ref: forwardedRef\n  }));\n});\nexport { Point, Points, PointsBuffer };","map":{"version":3,"names":["_extends","THREE","React","extend","useFrame","mergeRefs","Position","i","positionRef","context","createContext","parentMatrix","Matrix4","position","Vector3","color","Color","PointsInstances","forwardRef","_ref","ref","children","range","_ref$limit","limit","props","_objectWithoutProperties","_excluded","parentRef","useRef","_React$useState","useState","_React$useState2","_slicedToArray","refs","setRefs","_React$useState3","Float32Array","from","length","_React$useState4","_React$useState4$","positions","colors","sizes","useLayoutEffect","current","geometry","drawRange","count","Math","min","undefined","useEffect","attributes","needsUpdate","updateMatrix","updateMatrixWorld","copy","matrixWorld","invert","getWorldPosition","applyMatrix4","x","y","z","toArray","matrixWorldNeedsUpdate","equals","fromArray","size","set","events","useMemo","_refs$i$current","Object","assign","__r3f","handlers","keys","reduce","prev","key","_objectSpread","_defineProperty","event","_refs$event$index","_r3f","_r3f$handlers","object","index","api","subscribe","concat","_toConsumableArray","filter","item","createElement","matrixAutoUpdate","attachObject","array","itemSize","usage","DynamicDrawUsage","Provider","value","Point","_ref2","_excluded2","group","_React$useContext","useContext","PointsBuffer","_ref3","forwardedRef","_ref3$stride","stride","_excluded3","pointsRef","attr","Points"],"sources":["/Users/rizzytwizzy/Projects/idxntity/node_modules/@react-three/drei/core/Points.js"],"sourcesContent":["import _extends from '@babel/runtime/helpers/esm/extends';\nimport * as THREE from 'three';\nimport * as React from 'react';\nimport { extend, useFrame } from '@react-three/fiber';\nimport mergeRefs from 'react-merge-refs';\nimport { Position } from '../helpers/Position.js';\n\nlet i, positionRef;\nconst context = /*#__PURE__*/React.createContext(null);\nconst parentMatrix = new THREE.Matrix4();\nconst position = new THREE.Vector3();\nconst color = new THREE.Color();\n/**\n * Instance implementation, relies on react + context to update the attributes based on the children of this component\n */\n\nconst PointsInstances = /*#__PURE__*/React.forwardRef(({\n  children,\n  range,\n  limit = 1000,\n  ...props\n}, ref) => {\n  const parentRef = React.useRef(null);\n  const [refs, setRefs] = React.useState([]);\n  const [[positions, colors, sizes]] = React.useState(() => [new Float32Array(limit * 3), Float32Array.from({\n    length: limit * 3\n  }, () => 1), Float32Array.from({\n    length: limit\n  }, () => 1)]);\n  React.useLayoutEffect(() => {\n    parentRef.current.geometry.drawRange.count = Math.min(limit, range !== undefined ? range : limit, refs.length);\n  }, [refs, range]);\n  React.useEffect(() => {\n    // We might be a frame too late? ü§∑‚Äç‚ôÇÔ∏è\n    parentRef.current.geometry.attributes.position.needsUpdate = true;\n  });\n  useFrame(() => {\n    parentRef.current.updateMatrix();\n    parentRef.current.updateMatrixWorld();\n    parentMatrix.copy(parentRef.current.matrixWorld).invert();\n\n    for (i = 0; i < refs.length; i++) {\n      positionRef = refs[i].current;\n      positionRef.getWorldPosition(position).applyMatrix4(parentMatrix);\n\n      if (position.x !== positions[i * 3] || position.y !== positions[i * 3 + 1] || position.z !== positions[i * 3 + 2]) {\n        position.toArray(positions, i * 3);\n        parentRef.current.geometry.attributes.position.needsUpdate = true;\n        positionRef.matrixWorldNeedsUpdate = true;\n      }\n\n      if (!positionRef.color.equals(color.fromArray(colors, i * 3))) {\n        positionRef.color.toArray(colors, i * 3);\n        parentRef.current.geometry.attributes.color.needsUpdate = true;\n      }\n\n      if (positionRef.size !== sizes[i]) {\n        sizes.set([positionRef.size], i);\n        parentRef.current.geometry.attributes.size.needsUpdate = true;\n      }\n    }\n  });\n  const events = React.useMemo(() => {\n    const events = {};\n\n    for (i = 0; i < refs.length; i++) {\n      var _refs$i$current;\n\n      Object.assign(events, (_refs$i$current = refs[i].current) == null ? void 0 : _refs$i$current.__r3f.handlers);\n    }\n\n    return Object.keys(events).reduce((prev, key) => ({ ...prev,\n      [key]: event => {\n        var _refs$event$index, _r3f, _r3f$handlers;\n\n        const object = (_refs$event$index = refs[event.index]) == null ? void 0 : _refs$event$index.current;\n        return object == null ? void 0 : (_r3f = object.__r3f) == null ? void 0 : (_r3f$handlers = _r3f.handlers) == null ? void 0 : _r3f$handlers[key]({ ...event,\n          object\n        });\n      }\n    }), {});\n  }, [children, refs]);\n  const api = React.useMemo(() => ({\n    subscribe: ref => {\n      setRefs(refs => [...refs, ref]);\n      return () => setRefs(refs => refs.filter(item => item.current !== ref.current));\n    }\n  }), []);\n  return /*#__PURE__*/React.createElement(\"points\", _extends({\n    matrixAutoUpdate: false,\n    ref: mergeRefs([ref, parentRef])\n  }, events, props), /*#__PURE__*/React.createElement(\"bufferGeometry\", null, /*#__PURE__*/React.createElement(\"bufferAttribute\", {\n    attachObject: ['attributes', 'position'],\n    count: positions.length / 3,\n    array: positions,\n    itemSize: 3,\n    usage: THREE.DynamicDrawUsage\n  }), /*#__PURE__*/React.createElement(\"bufferAttribute\", {\n    attachObject: ['attributes', 'color'],\n    count: colors.length / 3,\n    array: colors,\n    itemSize: 3,\n    usage: THREE.DynamicDrawUsage\n  }), /*#__PURE__*/React.createElement(\"bufferAttribute\", {\n    attachObject: ['attributes', 'size'],\n    count: sizes.length,\n    array: sizes,\n    itemSize: 1,\n    usage: THREE.DynamicDrawUsage\n  })), /*#__PURE__*/React.createElement(context.Provider, {\n    value: api\n  }, children));\n});\nconst Point = /*#__PURE__*/React.forwardRef(({\n  children,\n  ...props\n}, ref) => {\n  React.useMemo(() => extend({\n    Position\n  }), []);\n  const group = React.useRef();\n  const {\n    subscribe\n  } = React.useContext(context);\n  React.useLayoutEffect(() => subscribe(group), []);\n  return /*#__PURE__*/React.createElement(\"position\", _extends({\n    ref: mergeRefs([ref, group])\n  }, props), children);\n});\n/**\n * Buffer implementation, relies on complete buffers of the correct number, leaves it to the user to update them\n */\n\nconst PointsBuffer = /*#__PURE__*/React.forwardRef(({\n  children,\n  positions,\n  colors,\n  sizes,\n  stride = 3,\n  ...props\n}, forwardedRef) => {\n  const pointsRef = React.useRef(null);\n  useFrame(() => {\n    const attr = pointsRef.current.geometry.attributes;\n    attr.position.needsUpdate = true;\n\n    if (colors) {\n      attr.color.needsUpdate = true;\n    }\n\n    if (sizes) {\n      attr.size.needsUpdate = true;\n    }\n  });\n  return /*#__PURE__*/React.createElement(\"points\", _extends({\n    matrixAutoUpdate: false,\n    ref: mergeRefs([forwardedRef, pointsRef])\n  }, props), /*#__PURE__*/React.createElement(\"bufferGeometry\", null, /*#__PURE__*/React.createElement(\"bufferAttribute\", {\n    attachObject: ['attributes', 'position'],\n    count: positions.length / stride,\n    array: positions,\n    itemSize: stride,\n    usage: THREE.DynamicDrawUsage\n  }), colors && /*#__PURE__*/React.createElement(\"bufferAttribute\", {\n    attachObject: ['attributes', 'color'],\n    count: colors.length / stride,\n    array: colors,\n    itemSize: 3,\n    usage: THREE.DynamicDrawUsage\n  }), sizes && /*#__PURE__*/React.createElement(\"bufferAttribute\", {\n    attachObject: ['attributes', 'size'],\n    count: sizes.length / stride,\n    array: sizes,\n    itemSize: 1,\n    usage: THREE.DynamicDrawUsage\n  })), children);\n});\nconst Points = /*#__PURE__*/React.forwardRef((props, forwardedRef) => {\n  if (props.positions instanceof Float32Array) {\n    return /*#__PURE__*/React.createElement(PointsBuffer, _extends({}, props, {\n      ref: forwardedRef\n    }));\n  }\n\n  return /*#__PURE__*/React.createElement(PointsInstances, _extends({}, props, {\n    ref: forwardedRef\n  }));\n});\n\nexport { Point, Points, PointsBuffer };\n"],"mappings":";;;;;;;;AAAA,OAAOA,QAAQ,MAAM,oCAAoC;AACzD,OAAO,KAAKC,KAAK,MAAM,OAAO;AAC9B,OAAO,KAAKC,KAAK,MAAM,OAAO;AAC9B,SAASC,MAAM,EAAEC,QAAQ,QAAQ,oBAAoB;AACrD,OAAOC,SAAS,MAAM,kBAAkB;AACxC,SAASC,QAAQ,QAAQ,wBAAwB;AAEjD,IAAIC,CAAC,EAAEC,WAAW;AAClB,IAAMC,OAAO,GAAG,aAAaP,KAAK,CAACQ,aAAa,CAAC,IAAI,CAAC;AACtD,IAAMC,YAAY,GAAG,IAAIV,KAAK,CAACW,OAAO,CAAC,CAAC;AACxC,IAAMC,QAAQ,GAAG,IAAIZ,KAAK,CAACa,OAAO,CAAC,CAAC;AACpC,IAAMC,KAAK,GAAG,IAAId,KAAK,CAACe,KAAK,CAAC,CAAC;AAC/B;AACA;AACA;;AAEA,IAAMC,eAAe,GAAG,aAAaf,KAAK,CAACgB,UAAU,CAAC,UAAAC,IAAA,EAKnDC,GAAG,EAAK;EAAA,IAJTC,QAAQ,GAAAF,IAAA,CAARE,QAAQ;IACRC,KAAK,GAAAH,IAAA,CAALG,KAAK;IAAAC,UAAA,GAAAJ,IAAA,CACLK,KAAK;IAALA,KAAK,GAAAD,UAAA,cAAG,IAAI,GAAAA,UAAA;IACTE,KAAK,GAAAC,wBAAA,CAAAP,IAAA,EAAAQ,SAAA;EAER,IAAMC,SAAS,GAAG1B,KAAK,CAAC2B,MAAM,CAAC,IAAI,CAAC;EACpC,IAAAC,eAAA,GAAwB5B,KAAK,CAAC6B,QAAQ,CAAC,EAAE,CAAC;IAAAC,gBAAA,GAAAC,cAAA,CAAAH,eAAA;IAAnCI,IAAI,GAAAF,gBAAA;IAAEG,OAAO,GAAAH,gBAAA;EACpB,IAAAI,gBAAA,GAAqClC,KAAK,CAAC6B,QAAQ,CAAC;MAAA,OAAM,CAAC,IAAIM,YAAY,CAACb,KAAK,GAAG,CAAC,CAAC,EAAEa,YAAY,CAACC,IAAI,CAAC;QACxGC,MAAM,EAAEf,KAAK,GAAG;MAClB,CAAC,EAAE;QAAA,OAAM,CAAC;MAAA,EAAC,EAAEa,YAAY,CAACC,IAAI,CAAC;QAC7BC,MAAM,EAAEf;MACV,CAAC,EAAE;QAAA,OAAM,CAAC;MAAA,EAAC,CAAC;IAAA,EAAC;IAAAgB,gBAAA,GAAAP,cAAA,CAAAG,gBAAA;IAAAK,iBAAA,GAAAR,cAAA,CAAAO,gBAAA;IAJLE,SAAS,GAAAD,iBAAA;IAAEE,MAAM,GAAAF,iBAAA;IAAEG,KAAK,GAAAH,iBAAA;EAKhCvC,KAAK,CAAC2C,eAAe,CAAC,YAAM;IAC1BjB,SAAS,CAACkB,OAAO,CAACC,QAAQ,CAACC,SAAS,CAACC,KAAK,GAAGC,IAAI,CAACC,GAAG,CAAC3B,KAAK,EAAEF,KAAK,KAAK8B,SAAS,GAAG9B,KAAK,GAAGE,KAAK,EAAEU,IAAI,CAACK,MAAM,CAAC;EAChH,CAAC,EAAE,CAACL,IAAI,EAAEZ,KAAK,CAAC,CAAC;EACjBpB,KAAK,CAACmD,SAAS,CAAC,YAAM;IACpB;IACAzB,SAAS,CAACkB,OAAO,CAACC,QAAQ,CAACO,UAAU,CAACzC,QAAQ,CAAC0C,WAAW,GAAG,IAAI;EACnE,CAAC,CAAC;EACFnD,QAAQ,CAAC,YAAM;IACbwB,SAAS,CAACkB,OAAO,CAACU,YAAY,CAAC,CAAC;IAChC5B,SAAS,CAACkB,OAAO,CAACW,iBAAiB,CAAC,CAAC;IACrC9C,YAAY,CAAC+C,IAAI,CAAC9B,SAAS,CAACkB,OAAO,CAACa,WAAW,CAAC,CAACC,MAAM,CAAC,CAAC;IAEzD,KAAKrD,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG2B,IAAI,CAACK,MAAM,EAAEhC,CAAC,EAAE,EAAE;MAChCC,WAAW,GAAG0B,IAAI,CAAC3B,CAAC,CAAC,CAACuC,OAAO;MAC7BtC,WAAW,CAACqD,gBAAgB,CAAChD,QAAQ,CAAC,CAACiD,YAAY,CAACnD,YAAY,CAAC;MAEjE,IAAIE,QAAQ,CAACkD,CAAC,KAAKrB,SAAS,CAACnC,CAAC,GAAG,CAAC,CAAC,IAAIM,QAAQ,CAACmD,CAAC,KAAKtB,SAAS,CAACnC,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,IAAIM,QAAQ,CAACoD,CAAC,KAAKvB,SAAS,CAACnC,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,EAAE;QACjHM,QAAQ,CAACqD,OAAO,CAACxB,SAAS,EAAEnC,CAAC,GAAG,CAAC,CAAC;QAClCqB,SAAS,CAACkB,OAAO,CAACC,QAAQ,CAACO,UAAU,CAACzC,QAAQ,CAAC0C,WAAW,GAAG,IAAI;QACjE/C,WAAW,CAAC2D,sBAAsB,GAAG,IAAI;MAC3C;MAEA,IAAI,CAAC3D,WAAW,CAACO,KAAK,CAACqD,MAAM,CAACrD,KAAK,CAACsD,SAAS,CAAC1B,MAAM,EAAEpC,CAAC,GAAG,CAAC,CAAC,CAAC,EAAE;QAC7DC,WAAW,CAACO,KAAK,CAACmD,OAAO,CAACvB,MAAM,EAAEpC,CAAC,GAAG,CAAC,CAAC;QACxCqB,SAAS,CAACkB,OAAO,CAACC,QAAQ,CAACO,UAAU,CAACvC,KAAK,CAACwC,WAAW,GAAG,IAAI;MAChE;MAEA,IAAI/C,WAAW,CAAC8D,IAAI,KAAK1B,KAAK,CAACrC,CAAC,CAAC,EAAE;QACjCqC,KAAK,CAAC2B,GAAG,CAAC,CAAC/D,WAAW,CAAC8D,IAAI,CAAC,EAAE/D,CAAC,CAAC;QAChCqB,SAAS,CAACkB,OAAO,CAACC,QAAQ,CAACO,UAAU,CAACgB,IAAI,CAACf,WAAW,GAAG,IAAI;MAC/D;IACF;EACF,CAAC,CAAC;EACF,IAAMiB,MAAM,GAAGtE,KAAK,CAACuE,OAAO,CAAC,YAAM;IACjC,IAAMD,MAAM,GAAG,CAAC,CAAC;IAEjB,KAAKjE,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG2B,IAAI,CAACK,MAAM,EAAEhC,CAAC,EAAE,EAAE;MAChC,IAAImE,eAAe;MAEnBC,MAAM,CAACC,MAAM,CAACJ,MAAM,EAAE,CAACE,eAAe,GAAGxC,IAAI,CAAC3B,CAAC,CAAC,CAACuC,OAAO,KAAK,IAAI,GAAG,KAAK,CAAC,GAAG4B,eAAe,CAACG,KAAK,CAACC,QAAQ,CAAC;IAC9G;IAEA,OAAOH,MAAM,CAACI,IAAI,CAACP,MAAM,CAAC,CAACQ,MAAM,CAAC,UAACC,IAAI,EAAEC,GAAG;MAAA,OAAAC,aAAA,CAAAA,aAAA,KAAWF,IAAI,OAAAG,eAAA,KACxDF,GAAG,EAAG,UAAAG,KAAK,EAAI;QACd,IAAIC,iBAAiB,EAAEC,IAAI,EAAEC,aAAa;QAE1C,IAAMC,MAAM,GAAG,CAACH,iBAAiB,GAAGpD,IAAI,CAACmD,KAAK,CAACK,KAAK,CAAC,KAAK,IAAI,GAAG,KAAK,CAAC,GAAGJ,iBAAiB,CAACxC,OAAO;QACnG,OAAO2C,MAAM,IAAI,IAAI,GAAG,KAAK,CAAC,GAAG,CAACF,IAAI,GAAGE,MAAM,CAACZ,KAAK,KAAK,IAAI,GAAG,KAAK,CAAC,GAAG,CAACW,aAAa,GAAGD,IAAI,CAACT,QAAQ,KAAK,IAAI,GAAG,KAAK,CAAC,GAAGU,aAAa,CAACN,GAAG,CAAC,CAAAC,aAAA,CAAAA,aAAA,KAAME,KAAK;UACxJI,MAAM,EAANA;QAAM,EACP,CAAC;MACJ,CAAC;IAAA,CACD,EAAE,CAAC,CAAC,CAAC;EACT,CAAC,EAAE,CAACpE,QAAQ,EAAEa,IAAI,CAAC,CAAC;EACpB,IAAMyD,GAAG,GAAGzF,KAAK,CAACuE,OAAO,CAAC;IAAA,OAAO;MAC/BmB,SAAS,EAAE,SAAAA,UAAAxE,GAAG,EAAI;QAChBe,OAAO,CAAC,UAAAD,IAAI;UAAA,UAAA2D,MAAA,CAAAC,kBAAA,CAAQ5D,IAAI,IAAEd,GAAG;QAAA,CAAC,CAAC;QAC/B,OAAO;UAAA,OAAMe,OAAO,CAAC,UAAAD,IAAI;YAAA,OAAIA,IAAI,CAAC6D,MAAM,CAAC,UAAAC,IAAI;cAAA,OAAIA,IAAI,CAAClD,OAAO,KAAK1B,GAAG,CAAC0B,OAAO;YAAA,EAAC;UAAA,EAAC;QAAA;MACjF;IACF,CAAC;EAAA,CAAC,EAAE,EAAE,CAAC;EACP,OAAO,aAAa5C,KAAK,CAAC+F,aAAa,CAAC,QAAQ,EAAEjG,QAAQ,CAAC;IACzDkG,gBAAgB,EAAE,KAAK;IACvB9E,GAAG,EAAEf,SAAS,CAAC,CAACe,GAAG,EAAEQ,SAAS,CAAC;EACjC,CAAC,EAAE4C,MAAM,EAAE/C,KAAK,CAAC,EAAE,aAAavB,KAAK,CAAC+F,aAAa,CAAC,gBAAgB,EAAE,IAAI,EAAE,aAAa/F,KAAK,CAAC+F,aAAa,CAAC,iBAAiB,EAAE;IAC9HE,YAAY,EAAE,CAAC,YAAY,EAAE,UAAU,CAAC;IACxClD,KAAK,EAAEP,SAAS,CAACH,MAAM,GAAG,CAAC;IAC3B6D,KAAK,EAAE1D,SAAS;IAChB2D,QAAQ,EAAE,CAAC;IACXC,KAAK,EAAErG,KAAK,CAACsG;EACf,CAAC,CAAC,EAAE,aAAarG,KAAK,CAAC+F,aAAa,CAAC,iBAAiB,EAAE;IACtDE,YAAY,EAAE,CAAC,YAAY,EAAE,OAAO,CAAC;IACrClD,KAAK,EAAEN,MAAM,CAACJ,MAAM,GAAG,CAAC;IACxB6D,KAAK,EAAEzD,MAAM;IACb0D,QAAQ,EAAE,CAAC;IACXC,KAAK,EAAErG,KAAK,CAACsG;EACf,CAAC,CAAC,EAAE,aAAarG,KAAK,CAAC+F,aAAa,CAAC,iBAAiB,EAAE;IACtDE,YAAY,EAAE,CAAC,YAAY,EAAE,MAAM,CAAC;IACpClD,KAAK,EAAEL,KAAK,CAACL,MAAM;IACnB6D,KAAK,EAAExD,KAAK;IACZyD,QAAQ,EAAE,CAAC;IACXC,KAAK,EAAErG,KAAK,CAACsG;EACf,CAAC,CAAC,CAAC,EAAE,aAAarG,KAAK,CAAC+F,aAAa,CAACxF,OAAO,CAAC+F,QAAQ,EAAE;IACtDC,KAAK,EAAEd;EACT,CAAC,EAAEtE,QAAQ,CAAC,CAAC;AACf,CAAC,CAAC;AACF,IAAMqF,KAAK,GAAG,aAAaxG,KAAK,CAACgB,UAAU,CAAC,UAAAyF,KAAA,EAGzCvF,GAAG,EAAK;EAAA,IAFTC,QAAQ,GAAAsF,KAAA,CAARtF,QAAQ;IACLI,KAAK,GAAAC,wBAAA,CAAAiF,KAAA,EAAAC,UAAA;EAER1G,KAAK,CAACuE,OAAO,CAAC;IAAA,OAAMtE,MAAM,CAAC;MACzBG,QAAQ,EAARA;IACF,CAAC,CAAC;EAAA,GAAE,EAAE,CAAC;EACP,IAAMuG,KAAK,GAAG3G,KAAK,CAAC2B,MAAM,CAAC,CAAC;EAC5B,IAAAiF,iBAAA,GAEI5G,KAAK,CAAC6G,UAAU,CAACtG,OAAO,CAAC;IAD3BmF,SAAS,GAAAkB,iBAAA,CAATlB,SAAS;EAEX1F,KAAK,CAAC2C,eAAe,CAAC;IAAA,OAAM+C,SAAS,CAACiB,KAAK,CAAC;EAAA,GAAE,EAAE,CAAC;EACjD,OAAO,aAAa3G,KAAK,CAAC+F,aAAa,CAAC,UAAU,EAAEjG,QAAQ,CAAC;IAC3DoB,GAAG,EAAEf,SAAS,CAAC,CAACe,GAAG,EAAEyF,KAAK,CAAC;EAC7B,CAAC,EAAEpF,KAAK,CAAC,EAAEJ,QAAQ,CAAC;AACtB,CAAC,CAAC;AACF;AACA;AACA;;AAEA,IAAM2F,YAAY,GAAG,aAAa9G,KAAK,CAACgB,UAAU,CAAC,UAAA+F,KAAA,EAOhDC,YAAY,EAAK;EAAA,IANlB7F,QAAQ,GAAA4F,KAAA,CAAR5F,QAAQ;IACRqB,SAAS,GAAAuE,KAAA,CAATvE,SAAS;IACTC,MAAM,GAAAsE,KAAA,CAANtE,MAAM;IACNC,KAAK,GAAAqE,KAAA,CAALrE,KAAK;IAAAuE,YAAA,GAAAF,KAAA,CACLG,MAAM;IAANA,MAAM,GAAAD,YAAA,cAAG,CAAC,GAAAA,YAAA;IACP1F,KAAK,GAAAC,wBAAA,CAAAuF,KAAA,EAAAI,UAAA;EAER,IAAMC,SAAS,GAAGpH,KAAK,CAAC2B,MAAM,CAAC,IAAI,CAAC;EACpCzB,QAAQ,CAAC,YAAM;IACb,IAAMmH,IAAI,GAAGD,SAAS,CAACxE,OAAO,CAACC,QAAQ,CAACO,UAAU;IAClDiE,IAAI,CAAC1G,QAAQ,CAAC0C,WAAW,GAAG,IAAI;IAEhC,IAAIZ,MAAM,EAAE;MACV4E,IAAI,CAACxG,KAAK,CAACwC,WAAW,GAAG,IAAI;IAC/B;IAEA,IAAIX,KAAK,EAAE;MACT2E,IAAI,CAACjD,IAAI,CAACf,WAAW,GAAG,IAAI;IAC9B;EACF,CAAC,CAAC;EACF,OAAO,aAAarD,KAAK,CAAC+F,aAAa,CAAC,QAAQ,EAAEjG,QAAQ,CAAC;IACzDkG,gBAAgB,EAAE,KAAK;IACvB9E,GAAG,EAAEf,SAAS,CAAC,CAAC6G,YAAY,EAAEI,SAAS,CAAC;EAC1C,CAAC,EAAE7F,KAAK,CAAC,EAAE,aAAavB,KAAK,CAAC+F,aAAa,CAAC,gBAAgB,EAAE,IAAI,EAAE,aAAa/F,KAAK,CAAC+F,aAAa,CAAC,iBAAiB,EAAE;IACtHE,YAAY,EAAE,CAAC,YAAY,EAAE,UAAU,CAAC;IACxClD,KAAK,EAAEP,SAAS,CAACH,MAAM,GAAG6E,MAAM;IAChChB,KAAK,EAAE1D,SAAS;IAChB2D,QAAQ,EAAEe,MAAM;IAChBd,KAAK,EAAErG,KAAK,CAACsG;EACf,CAAC,CAAC,EAAE5D,MAAM,IAAI,aAAazC,KAAK,CAAC+F,aAAa,CAAC,iBAAiB,EAAE;IAChEE,YAAY,EAAE,CAAC,YAAY,EAAE,OAAO,CAAC;IACrClD,KAAK,EAAEN,MAAM,CAACJ,MAAM,GAAG6E,MAAM;IAC7BhB,KAAK,EAAEzD,MAAM;IACb0D,QAAQ,EAAE,CAAC;IACXC,KAAK,EAAErG,KAAK,CAACsG;EACf,CAAC,CAAC,EAAE3D,KAAK,IAAI,aAAa1C,KAAK,CAAC+F,aAAa,CAAC,iBAAiB,EAAE;IAC/DE,YAAY,EAAE,CAAC,YAAY,EAAE,MAAM,CAAC;IACpClD,KAAK,EAAEL,KAAK,CAACL,MAAM,GAAG6E,MAAM;IAC5BhB,KAAK,EAAExD,KAAK;IACZyD,QAAQ,EAAE,CAAC;IACXC,KAAK,EAAErG,KAAK,CAACsG;EACf,CAAC,CAAC,CAAC,EAAElF,QAAQ,CAAC;AAChB,CAAC,CAAC;AACF,IAAMmG,MAAM,GAAG,aAAatH,KAAK,CAACgB,UAAU,CAAC,UAACO,KAAK,EAAEyF,YAAY,EAAK;EACpE,IAAIzF,KAAK,CAACiB,SAAS,YAAYL,YAAY,EAAE;IAC3C,OAAO,aAAanC,KAAK,CAAC+F,aAAa,CAACe,YAAY,EAAEhH,QAAQ,CAAC,CAAC,CAAC,EAAEyB,KAAK,EAAE;MACxEL,GAAG,EAAE8F;IACP,CAAC,CAAC,CAAC;EACL;EAEA,OAAO,aAAahH,KAAK,CAAC+F,aAAa,CAAChF,eAAe,EAAEjB,QAAQ,CAAC,CAAC,CAAC,EAAEyB,KAAK,EAAE;IAC3EL,GAAG,EAAE8F;EACP,CAAC,CAAC,CAAC;AACL,CAAC,CAAC;AAEF,SAASR,KAAK,EAAEc,MAAM,EAAER,YAAY"},"metadata":{},"sourceType":"module","externalDependencies":[]}