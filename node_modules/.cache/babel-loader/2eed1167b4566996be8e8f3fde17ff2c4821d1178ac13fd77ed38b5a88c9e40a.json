{"ast":null,"code":"import _toConsumableArray from \"/Users/rizzytwizzy/Projects/idxntity/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";\nimport _slicedToArray from \"/Users/rizzytwizzy/Projects/idxntity/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";\nimport _objectWithoutProperties from \"/Users/rizzytwizzy/Projects/idxntity/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js\";\nvar _excluded = [\"box\", \"multiple\", \"children\", \"onChange\", \"border\", \"backgroundColor\", \"filter\"];\nimport _extends from '@babel/runtime/helpers/esm/extends';\nimport * as React from 'react';\nimport * as THREE from 'three';\nimport { SelectionBox } from 'three-stdlib';\nimport { useThree } from '@react-three/fiber';\nimport shallow from 'zustand/shallow';\nvar context = /*#__PURE__*/React.createContext([]);\nfunction Select(_ref) {\n  var box = _ref.box,\n    multiple = _ref.multiple,\n    children = _ref.children,\n    onChange = _ref.onChange,\n    _ref$border = _ref.border,\n    border = _ref$border === void 0 ? '1px solid #55aaff' : _ref$border,\n    _ref$backgroundColor = _ref.backgroundColor,\n    backgroundColor = _ref$backgroundColor === void 0 ? 'rgba(75, 160, 255, 0.1)' : _ref$backgroundColor,\n    _ref$filter = _ref.filter,\n    customFilter = _ref$filter === void 0 ? function (item) {\n      return item;\n    } : _ref$filter,\n    props = _objectWithoutProperties(_ref, _excluded);\n  // @ts-expect-error new in @react-three/fiber@7.0.5\n  var _useThree = useThree(),\n    camera = _useThree.camera,\n    raycaster = _useThree.raycaster,\n    gl = _useThree.gl,\n    controls = _useThree.controls,\n    size = _useThree.size,\n    get = _useThree.get;\n  var _React$useState = React.useState(false),\n    _React$useState2 = _slicedToArray(_React$useState, 2),\n    hovered = _React$useState2[0],\n    hover = _React$useState2[1];\n  var _React$useReducer = React.useReducer(function (state, _ref2) {\n      var object = _ref2.object,\n        shift = _ref2.shift;\n      if (object === undefined) return [];else if (Array.isArray(object)) return object;else if (!shift) return state[0] === object ? [] : [object];else if (state.includes(object)) return state.filter(function (o) {\n        return o !== object;\n      });else return [object].concat(_toConsumableArray(state));\n    }, []),\n    _React$useReducer2 = _slicedToArray(_React$useReducer, 2),\n    active = _React$useReducer2[0],\n    dispatch = _React$useReducer2[1];\n  React.useEffect(function () {\n    return void (onChange == null ? void 0 : onChange(active));\n  }, [active]);\n  var onClick = React.useCallback(function (e) {\n    e.stopPropagation();\n    dispatch({\n      object: customFilter([e.object])[0],\n      shift: multiple && e.shiftKey\n    });\n  }, []);\n  var onPointerMissed = React.useCallback(function (e) {\n    return !hovered && dispatch({});\n  }, [hovered]);\n  var ref = React.useRef(null);\n  React.useEffect(function () {\n    if (!box || !multiple) return;\n    var selBox = new SelectionBox(camera, ref.current);\n    var element = document.createElement('div');\n    element.style.pointerEvents = 'none';\n    element.style.border = border;\n    element.style.backgroundColor = backgroundColor;\n    element.style.position = 'fixed';\n    var startPoint = new THREE.Vector2();\n    var pointTopLeft = new THREE.Vector2();\n    var pointBottomRight = new THREE.Vector2();\n    var oldRaycasterEnabled = raycaster.enabled;\n    var oldControlsEnabled = controls == null ? void 0 : controls.enabled;\n    var isDown = false;\n    function prepareRay(event, vec) {\n      var _raycaster$computeOff;\n\n      // https://github.com/pmndrs/react-three-fiber/pull/782\n      // Events trigger outside of canvas when moved\n      var _ref3 = (_raycaster$computeOff = raycaster.computeOffsets == null ? void 0 : raycaster.computeOffsets(event, get())) !== null && _raycaster$computeOff !== void 0 ? _raycaster$computeOff : event,\n        offsetX = _ref3.offsetX,\n        offsetY = _ref3.offsetY;\n      var width = size.width,\n        height = size.height;\n      vec.set(offsetX / width * 2 - 1, -(offsetY / height) * 2 + 1);\n    }\n    function onSelectStart(event) {\n      var _gl$domElement$parent;\n      if (controls) controls.enabled = false;\n      raycaster.enabled = false;\n      isDown = true;\n      (_gl$domElement$parent = gl.domElement.parentElement) == null ? void 0 : _gl$domElement$parent.appendChild(element);\n      element.style.left = \"\".concat(event.clientX, \"px\");\n      element.style.top = \"\".concat(event.clientY, \"px\");\n      element.style.width = '0px';\n      element.style.height = '0px';\n      startPoint.x = event.clientX;\n      startPoint.y = event.clientY;\n    }\n    function onSelectMove(event) {\n      pointBottomRight.x = Math.max(startPoint.x, event.clientX);\n      pointBottomRight.y = Math.max(startPoint.y, event.clientY);\n      pointTopLeft.x = Math.min(startPoint.x, event.clientX);\n      pointTopLeft.y = Math.min(startPoint.y, event.clientY);\n      element.style.left = \"\".concat(pointTopLeft.x, \"px\");\n      element.style.top = \"\".concat(pointTopLeft.y, \"px\");\n      element.style.width = \"\".concat(pointBottomRight.x - pointTopLeft.x, \"px\");\n      element.style.height = \"\".concat(pointBottomRight.y - pointTopLeft.y, \"px\");\n    }\n    function onSelectOver() {\n      if (isDown) {\n        var _element$parentElemen;\n        if (controls) controls.enabled = oldControlsEnabled;\n        raycaster.enabled = oldRaycasterEnabled;\n        isDown = false;\n        (_element$parentElemen = element.parentElement) == null ? void 0 : _element$parentElemen.removeChild(element);\n      }\n    }\n    function pointerDown(event) {\n      if (event.shiftKey) {\n        onSelectStart(event);\n        prepareRay(event, selBox.startPoint);\n      }\n    }\n    var previous = [];\n    function pointerMove(event) {\n      if (isDown) {\n        onSelectMove(event);\n        prepareRay(event, selBox.endPoint);\n        var allSelected = selBox.select().sort(function (o) {\n          return o.uuid;\n        }).filter(function (o) {\n          return o.isMesh;\n        });\n        if (!shallow(allSelected, previous)) {\n          previous = allSelected;\n          dispatch({\n            object: customFilter(allSelected)\n          });\n        }\n      }\n    }\n    function pointerUp(event) {\n      if (isDown) onSelectOver();\n    }\n    document.addEventListener('pointerdown', pointerDown, {\n      passive: true\n    });\n    document.addEventListener('pointermove', pointerMove, {\n      passive: true,\n      capture: true\n    });\n    document.addEventListener('pointerup', pointerUp, {\n      passive: true\n    });\n    return function () {\n      document.removeEventListener('pointerdown', pointerDown);\n      document.removeEventListener('pointermove', pointerMove);\n      document.removeEventListener('pointerup', pointerUp);\n    };\n  }, [size, raycaster, camera, controls, gl]);\n  return /*#__PURE__*/React.createElement(\"group\", _extends({\n    ref: ref,\n    onClick: onClick,\n    onPointerOver: function onPointerOver() {\n      return hover(true);\n    },\n    onPointerOut: function onPointerOut() {\n      return hover(false);\n    },\n    onPointerMissed: onPointerMissed\n  }, props), /*#__PURE__*/React.createElement(context.Provider, {\n    value: active\n  }, children));\n}\nfunction useSelect() {\n  return React.useContext(context);\n}\nexport { Select, useSelect };","map":{"version":3,"names":["_extends","React","THREE","SelectionBox","useThree","shallow","context","createContext","Select","_ref","box","multiple","children","onChange","_ref$border","border","_ref$backgroundColor","backgroundColor","_ref$filter","filter","customFilter","item","props","_objectWithoutProperties","_excluded","_useThree","camera","raycaster","gl","controls","size","get","_React$useState","useState","_React$useState2","_slicedToArray","hovered","hover","_React$useReducer","useReducer","state","_ref2","object","shift","undefined","Array","isArray","includes","o","concat","_toConsumableArray","_React$useReducer2","active","dispatch","useEffect","onClick","useCallback","e","stopPropagation","shiftKey","onPointerMissed","ref","useRef","selBox","current","element","document","createElement","style","pointerEvents","position","startPoint","Vector2","pointTopLeft","pointBottomRight","oldRaycasterEnabled","enabled","oldControlsEnabled","isDown","prepareRay","event","vec","_raycaster$computeOff","_ref3","computeOffsets","offsetX","offsetY","width","height","set","onSelectStart","_gl$domElement$parent","domElement","parentElement","appendChild","left","clientX","top","clientY","x","y","onSelectMove","Math","max","min","onSelectOver","_element$parentElemen","removeChild","pointerDown","previous","pointerMove","endPoint","allSelected","select","sort","uuid","isMesh","pointerUp","addEventListener","passive","capture","removeEventListener","onPointerOver","onPointerOut","Provider","value","useSelect","useContext"],"sources":["/Users/rizzytwizzy/Projects/idxntity/node_modules/@react-three/drei/web/Select.js"],"sourcesContent":["import _extends from '@babel/runtime/helpers/esm/extends';\nimport * as React from 'react';\nimport * as THREE from 'three';\nimport { SelectionBox } from 'three-stdlib';\nimport { useThree } from '@react-three/fiber';\nimport shallow from 'zustand/shallow';\n\nconst context = /*#__PURE__*/React.createContext([]);\nfunction Select({\n  box,\n  multiple,\n  children,\n  onChange,\n  border = '1px solid #55aaff',\n  backgroundColor = 'rgba(75, 160, 255, 0.1)',\n  filter: customFilter = item => item,\n  ...props\n}) {\n  // @ts-expect-error new in @react-three/fiber@7.0.5\n  const {\n    camera,\n    raycaster,\n    gl,\n    controls,\n    size,\n    get\n  } = useThree();\n  const [hovered, hover] = React.useState(false);\n  const [active, dispatch] = React.useReducer((state, {\n    object,\n    shift\n  }) => {\n    if (object === undefined) return [];else if (Array.isArray(object)) return object;else if (!shift) return state[0] === object ? [] : [object];else if (state.includes(object)) return state.filter(o => o !== object);else return [object, ...state];\n  }, []);\n  React.useEffect(() => void (onChange == null ? void 0 : onChange(active)), [active]);\n  const onClick = React.useCallback(e => {\n    e.stopPropagation();\n    dispatch({\n      object: customFilter([e.object])[0],\n      shift: multiple && e.shiftKey\n    });\n  }, []);\n  const onPointerMissed = React.useCallback(e => !hovered && dispatch({}), [hovered]);\n  const ref = React.useRef(null);\n  React.useEffect(() => {\n    if (!box || !multiple) return;\n    const selBox = new SelectionBox(camera, ref.current);\n    const element = document.createElement('div');\n    element.style.pointerEvents = 'none';\n    element.style.border = border;\n    element.style.backgroundColor = backgroundColor;\n    element.style.position = 'fixed';\n    const startPoint = new THREE.Vector2();\n    const pointTopLeft = new THREE.Vector2();\n    const pointBottomRight = new THREE.Vector2();\n    const oldRaycasterEnabled = raycaster.enabled;\n    const oldControlsEnabled = controls == null ? void 0 : controls.enabled;\n    let isDown = false;\n\n    function prepareRay(event, vec) {\n      var _raycaster$computeOff;\n\n      // https://github.com/pmndrs/react-three-fiber/pull/782\n      // Events trigger outside of canvas when moved\n      const {\n        offsetX,\n        offsetY\n      } = (_raycaster$computeOff = raycaster.computeOffsets == null ? void 0 : raycaster.computeOffsets(event, get())) !== null && _raycaster$computeOff !== void 0 ? _raycaster$computeOff : event;\n      const {\n        width,\n        height\n      } = size;\n      vec.set(offsetX / width * 2 - 1, -(offsetY / height) * 2 + 1);\n    }\n\n    function onSelectStart(event) {\n      var _gl$domElement$parent;\n\n      if (controls) controls.enabled = false;\n      raycaster.enabled = false;\n      isDown = true;\n      (_gl$domElement$parent = gl.domElement.parentElement) == null ? void 0 : _gl$domElement$parent.appendChild(element);\n      element.style.left = `${event.clientX}px`;\n      element.style.top = `${event.clientY}px`;\n      element.style.width = '0px';\n      element.style.height = '0px';\n      startPoint.x = event.clientX;\n      startPoint.y = event.clientY;\n    }\n\n    function onSelectMove(event) {\n      pointBottomRight.x = Math.max(startPoint.x, event.clientX);\n      pointBottomRight.y = Math.max(startPoint.y, event.clientY);\n      pointTopLeft.x = Math.min(startPoint.x, event.clientX);\n      pointTopLeft.y = Math.min(startPoint.y, event.clientY);\n      element.style.left = `${pointTopLeft.x}px`;\n      element.style.top = `${pointTopLeft.y}px`;\n      element.style.width = `${pointBottomRight.x - pointTopLeft.x}px`;\n      element.style.height = `${pointBottomRight.y - pointTopLeft.y}px`;\n    }\n\n    function onSelectOver() {\n      if (isDown) {\n        var _element$parentElemen;\n\n        if (controls) controls.enabled = oldControlsEnabled;\n        raycaster.enabled = oldRaycasterEnabled;\n        isDown = false;\n        (_element$parentElemen = element.parentElement) == null ? void 0 : _element$parentElemen.removeChild(element);\n      }\n    }\n\n    function pointerDown(event) {\n      if (event.shiftKey) {\n        onSelectStart(event);\n        prepareRay(event, selBox.startPoint);\n      }\n    }\n\n    let previous = [];\n\n    function pointerMove(event) {\n      if (isDown) {\n        onSelectMove(event);\n        prepareRay(event, selBox.endPoint);\n        const allSelected = selBox.select().sort(o => o.uuid).filter(o => o.isMesh);\n\n        if (!shallow(allSelected, previous)) {\n          previous = allSelected;\n          dispatch({\n            object: customFilter(allSelected)\n          });\n        }\n      }\n    }\n\n    function pointerUp(event) {\n      if (isDown) onSelectOver();\n    }\n\n    document.addEventListener('pointerdown', pointerDown, {\n      passive: true\n    });\n    document.addEventListener('pointermove', pointerMove, {\n      passive: true,\n      capture: true\n    });\n    document.addEventListener('pointerup', pointerUp, {\n      passive: true\n    });\n    return () => {\n      document.removeEventListener('pointerdown', pointerDown);\n      document.removeEventListener('pointermove', pointerMove);\n      document.removeEventListener('pointerup', pointerUp);\n    };\n  }, [size, raycaster, camera, controls, gl]);\n  return /*#__PURE__*/React.createElement(\"group\", _extends({\n    ref: ref,\n    onClick: onClick,\n    onPointerOver: () => hover(true),\n    onPointerOut: () => hover(false),\n    onPointerMissed: onPointerMissed\n  }, props), /*#__PURE__*/React.createElement(context.Provider, {\n    value: active\n  }, children));\n}\nfunction useSelect() {\n  return React.useContext(context);\n}\n\nexport { Select, useSelect };\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}